
<!DOCTYPE html>
<title>Quirks</title>

<h2>iframe</h2>
<div id="iframe" style="white-space:pre;"></div>
<script>
  const basiciframe = (() => {
    var el = document.createElement('iframe');
    el.style.display = 'none'
    document.body.appendChild(el);
    return el.contentWindow.navigator.platform;
  })()

  const sandboxSOiframe = (() => {
    var el = document.createElement('iframe');
    el.style.display = 'none'
    el.setAttribute('sandbox', 'allow-same-origin');
    document.body.appendChild(el);
    return el.contentWindow.navigator.platform;
  })()

  const sandboxSOASiframe = (() => {
    var el = document.createElement('iframe');
    el.style.display = 'none'
    el.setAttribute('sandbox', 'allow-same-origin allow-scripts');
    document.body.appendChild(el);
    return el.contentWindow.navigator.platform;
  })()

  const srcdociframe = (() => {
    var el = document.createElement('iframe');
    el.style.display = 'none'
    el.srcdoc = 'blank page, boys.';
    document.body.appendChild(el);
    return el.contentWindow.navigator.platform;
  })()

  const results = {
    window: navigator.platform,
    basiciframe,
    sandboxSOiframe,
    sandboxSOASiframe,
    srcdociframe,
    "window[0]": window[0].navigator.platform,
    "window[1]": window[1].navigator.platform,
    "window[2]": window[2].navigator.platform,
    "window[3]": window[3].navigator.platform,
  }
  
  iframe.textContent = JSON.stringify(results, null, 2);
</script>
